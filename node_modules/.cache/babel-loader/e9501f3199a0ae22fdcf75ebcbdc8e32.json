{"ast":null,"code":"var _jsxFileName = \"D:\\\\Data\\\\Development\\\\React\\\\Project\\\\Frontend\\\\src\\\\components\\\\Header\\\\Header.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Search from \"../Search/Search\";\nimport \"./Header.css\";\nimport http from \"./../../services/httpService\";\n\nconst Header = props => {\n  const selector = useSelector(state => state);\n  const dispatch = useDispatch();\n  const cart = selector.cart;\n  const userRole = selector.userType;\n  const [controllerPage, setControllerPage] = useState('');\n  const apiEndpoint = \"http://localhost:8090/cartLine/api/v1/\";\n  useEffect(() => {\n    http.get(apiEndpoint + \"getCartItems/\", {\n      headers: http.getJWT()\n    }).then(res => {\n      if (res) {\n        let totalData = 0;\n        res.data.map(product => {\n          totalData += product.quantity;\n        });\n        dispatch({\n          type: \"SET_CART\",\n          payload: totalData\n        });\n      } else {\n        dispatch({\n          type: \"SET_CART\",\n          payload: 0\n        });\n      }\n    }, error => {\n      console.log(error.response.status);\n    });\n    if (userRole === 'admin') setControllerPage('/admin');else if (userRole === 'owner') setControllerPage('/bowner');else if (userRole === 'customer') setControllerPage('/');else if (userRole === 'seller') setControllerPage('/seller');\n  }, []);\n\n  const homeBtn = () => {\n    dispatch({\n      type: \"SET_SEARCH\",\n      payload: \"\"\n    });\n    dispatch({\n      type: \"SET_CATEGORY\",\n      payload: \"\"\n    });\n  };\n\n  const setLogin = () => {\n    localStorage.removeItem(\"state\");\n    localStorage.removeItem(\"shopJWT\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"header\", {\n    id: \"masterhead\",\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"logo\",\n    src: \"/img/logo.png\",\n    alt: \"logo\",\n    onClick: homeBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"nav\", {\n    id: \"menuVeloce\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, \"SHOP\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, \"BRANDS\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/admin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, \"Profile\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu_input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"nav\", {\n    id: \"shoppingMenu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    id: \"cerca\",\n    className: \" open\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    onClick: setLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-sign-in-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: controllerPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-cogs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }))), selector.userType === 'customer' ? /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/cart\",\n    id: \"cart-button\",\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-shopping-bag\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 19\n    }\n  }, cart))) : ''))));\n};\n\nexport default Header;","map":{"version":3,"sources":["D:/Data/Development/React/Project/Frontend/src/components/Header/Header.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Link","Search","http","Header","props","selector","state","dispatch","cart","userRole","userType","controllerPage","setControllerPage","apiEndpoint","get","headers","getJWT","then","res","totalData","data","map","product","quantity","type","payload","error","console","log","response","status","homeBtn","setLogin","localStorage","removeItem"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Search from \"../Search/Search\";\r\nimport \"./Header.css\";\r\nimport http from \"./../../services/httpService\";\r\n\r\nconst Header = (props) => {\r\n  const selector = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const cart = selector.cart;\r\n  const userRole = selector.userType;\r\n  const [controllerPage, setControllerPage] = useState('');\r\n  const apiEndpoint = \"http://localhost:8090/cartLine/api/v1/\";\r\n\r\n  useEffect(() => {\r\n    http\r\n      .get(apiEndpoint + \"getCartItems/\", {\r\n        headers: http.getJWT(),\r\n      })\r\n      .then(\r\n        (res) => {\r\n          if(res) {\r\n            let totalData = 0;\r\n            res.data.map((product) => {\r\n              totalData += product.quantity;\r\n            })\r\n            dispatch({ type: \"SET_CART\", payload: totalData });\r\n          }\r\n          else {\r\n            dispatch({type:\"SET_CART\", payload: 0});\r\n          }\r\n        },\r\n        (error) => {\r\n          console.log(error.response.status);\r\n        }\r\n      );\r\n    if(userRole === 'admin') \r\n      setControllerPage('/admin');\r\n    else if(userRole === 'owner') \r\n      setControllerPage('/bowner');\r\n    else if(userRole ==='customer')\r\n      setControllerPage('/');\r\n    else if(userRole ==='seller') \r\n      setControllerPage('/seller')\r\n  }, []);\r\n\r\n  const homeBtn = () => {\r\n    dispatch({ type: \"SET_SEARCH\", payload: \"\" });\r\n    dispatch({ type: \"SET_CATEGORY\", payload: \"\" });\r\n  };\r\n\r\n  const setLogin = () => {\r\n    localStorage.removeItem(\"state\");\r\n    localStorage.removeItem(\"shopJWT\");\r\n  };\r\n\r\n  return (\r\n    <header id=\"masterhead\" className=\"row\">\r\n      <div className=\"left\">\r\n        <Link to=\"/\">\r\n          <img id=\"logo\" src=\"/img/logo.png\" alt=\"logo\" onClick={homeBtn} />\r\n        </Link>\r\n        <nav id=\"menuVeloce\">\r\n          <ul>\r\n            <li>\r\n              <Link to=\"#\">SHOP</Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"#\">BRANDS</Link>\r\n            </li>\r\n            <li>\r\n              <a href=\"/admin\">Profile</a>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n\r\n      {/* <div className=\"middle\">\r\n        <div className=\"hamburger close\">\r\n          <span></span>\r\n        </div>\r\n      </div> */}\r\n      <div className=\"right\">\r\n        {/* <nav id=\"menuVeloceR\">\r\n          <ul>\r\n            <li>\r\n              <Link to=\"/\">MENU 2</Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/checkout\">MENU3</Link>\r\n            </li>\r\n          </ul>\r\n        </nav> */}\r\n        <div className=\"menu_input\">\r\n          <Search />\r\n        </div>\r\n        <nav id=\"shoppingMenu\">\r\n          <ul>\r\n            <li>\r\n              <Link to=\"#\" id=\"cerca\" className=\" open\">\r\n                <i className=\"fas fa-search\"></i>\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              {/* {serializedState === false ? \r\n              (<Link to=\"/login\">\r\n                <i className=\"fas fa-sign-in-alt\"></i>\r\n              </Link>) : (\r\n              <Link to=\"/\">\r\n                <i className=\"fas fa-sign-in-alt\"></i>\r\n              </Link>)} */}\r\n              <Link to=\"/login\" onClick={setLogin}>\r\n                <i className=\"fas fa-sign-in-alt\"></i>\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link to={controllerPage}>\r\n                <i className=\"fas fa-cogs\"></i>\r\n              </Link>\r\n            </li>\r\n            {selector.userType === 'customer' ?\r\n              (<li>\r\n                <Link to=\"/cart\" id=\"cart-button\" href=\"#\">\r\n                  <i className=\"fas fa-shopping-bag\"></i>\r\n                  <span>{cart}</span>\r\n                </Link>\r\n              </li>) :\r\n              ''}\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}