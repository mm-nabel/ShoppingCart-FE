{"ast":null,"code":"var _jsxFileName = \"D:\\\\Data\\\\Development\\\\React\\\\Project\\\\Frontend\\\\src\\\\components\\\\ProductDetail\\\\ProductDetail.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport http from \"./../../services/httpService\";\nimport \"./ProductDetail.css\";\n\nconst ProductDetail = () => {\n  const params = useParams();\n  const [selectedQty, setSelectedQty] = useState(1);\n  const [totalQty, setTotalQty] = useState(0);\n  const dispatch = useDispatch();\n  const [productDetails, setDetails] = useState([]);\n  const [quantity, setQuantity] = useState([]);\n  const apiEndPoint = \"http://localhost:8090/cartLine/api/v1/add\";\n\n  const addToCart = () => {\n    dispatch({\n      type: \"ADD_CART\",\n      payload: selectedQty\n    });\n    console.log(\"ADDED\");\n    const body = {\n      productId: productDetails.productID,\n      quantity: selectedQty,\n      price: productDetails.price,\n      productDesc: productDetails.description,\n      productName: productDetails.name,\n      imageLink: productDetails.imageLink,\n      categoryId: productDetails.category.categoryId,\n      categoryName: productDetails.category.name,\n      sellerId: productDetails.sellerId\n    };\n    console.log(body);\n    http.post(apiEndPoint, body, {\n      headers: http.getJWT()\n    });\n  };\n\n  useEffect(() => {\n    fetch(`http://localhost:8090/products/api/v1/${params.id}`).then(res => res.json()).then(res => {\n      console.log(res);\n      const maxQty = res.quantity < 10 ? res.quantity : 10;\n      let qty = [];\n\n      for (let i = 1; i <= maxQty; i++) {\n        qty.push(i);\n      }\n\n      setQuantity(qty);\n      setTotalQty(res.quantity);\n      setDetails(res.product);\n    }).catch(err => {\n      console.log(\"ERROR: \" + err);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-detail-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, productDetails.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-detail-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"deals-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-deals\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"deals-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    height: \"400\",\n    src: productDetails.imageLink,\n    alt: \"img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"details-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, \"Product Details\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"details-det\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, productDetails.description)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"intro-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"intro-deals\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"intro-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"$\", productDetails.price, \" & FREE Shipping\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"availibility\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"In Stock \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 24\n    }\n  }, \"(\", totalQty, \")\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"intro-quantity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, \"Quantity: \"), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"quantity\",\n    onChange: e => setSelectedQty(parseInt(e.target.value)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, quantity.map(v => /*#__PURE__*/React.createElement(\"option\", {\n    key: v,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }\n  }, v)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"intro-addToCart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => addToCart(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, \" + Add to Cart\"))))));\n};\n\nexport default ProductDetail;","map":{"version":3,"sources":["D:/Data/Development/React/Project/Frontend/src/components/ProductDetail/ProductDetail.js"],"names":["React","useEffect","useState","useDispatch","useParams","http","ProductDetail","params","selectedQty","setSelectedQty","totalQty","setTotalQty","dispatch","productDetails","setDetails","quantity","setQuantity","apiEndPoint","addToCart","type","payload","console","log","body","productId","productID","price","productDesc","description","productName","name","imageLink","categoryId","category","categoryName","sellerId","post","headers","getJWT","fetch","id","then","res","json","maxQty","qty","i","push","product","catch","err","e","parseInt","target","value","map","v"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport http from \"./../../services/httpService\";\r\nimport \"./ProductDetail.css\";\r\n\r\nconst ProductDetail = () => {\r\n  const params = useParams();\r\n  const [selectedQty, setSelectedQty] = useState(1);\r\n  const [totalQty, setTotalQty] = useState(0);\r\n  const dispatch = useDispatch();\r\n  const [productDetails, setDetails] = useState([]);\r\n  const [quantity, setQuantity] = useState([]);\r\n  const apiEndPoint = \"http://localhost:8090/cartLine/api/v1/add\";\r\n\r\n  const addToCart = () => {\r\n    dispatch({ type: \"ADD_CART\", payload: selectedQty });\r\n    console.log(\"ADDED\");\r\n    const body = {\r\n      productId: productDetails.productID,\r\n      quantity: selectedQty,\r\n      price: productDetails.price,\r\n      productDesc: productDetails.description,\r\n      productName: productDetails.name,\r\n      imageLink: productDetails.imageLink,\r\n      categoryId: productDetails.category.categoryId,\r\n      categoryName: productDetails.category.name,\r\n      sellerId: productDetails.sellerId,\r\n    };\r\n    console.log(body);\r\n    http.post(apiEndPoint, body, {\r\n      headers: http.getJWT(),\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetch(`http://localhost:8090/products/api/v1/${params.id}`)\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        console.log(res);\r\n        const maxQty = res.quantity < 10 ? res.quantity : 10;\r\n        let qty = [];\r\n        for (let i = 1; i <= maxQty; i++) {\r\n          qty.push(i);\r\n        }\r\n        setQuantity(qty);\r\n        setTotalQty(res.quantity);\r\n        setDetails(res.product);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"ERROR: \" + err);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"product-detail\">\r\n      <div className=\"product-detail-title\">\r\n        <h1>{productDetails.name}</h1>\r\n      </div>\r\n      <div className=\"product-detail-container\">\r\n        <div className=\"deals-section\">\r\n          <div className=\"product-deals\">\r\n            <div className=\"deals-img\">\r\n              <img height=\"400\" src={productDetails.imageLink} alt=\"img\"></img>\r\n            </div>\r\n            <div className=\"product-details\">\r\n              <div className=\"details-title\">Product Details</div>\r\n              <div className=\"details-det\">{productDetails.description}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"intro-section\">\r\n          <div className=\"intro-deals\">\r\n            <div className=\"intro-price\">\r\n              ${productDetails.price} & FREE Shipping\r\n            </div>\r\n            <div className=\"availibility\">\r\n              In Stock <span>({totalQty})</span>\r\n            </div>\r\n            <div className=\"intro-quantity\">\r\n              <span>Quantity: </span>\r\n              <select\r\n                className=\"quantity\"\r\n                onChange={(e) => setSelectedQty(parseInt(e.target.value))}\r\n              >\r\n                {quantity.map((v) => (\r\n                  <option key={v}>{v}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div className=\"intro-addToCart\">\r\n              <div onClick={() => addToCart()}> + Add to Cart</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetail;\r\n"]},"metadata":{},"sourceType":"module"}